<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuarios</title>
</head>
<body>
    <h1>Usuarios</h1>




    <ul id="listaUsuarios"></ul>

    <script>
        fetch('/usuarios') // ruta para entregar los datos de los usuarios
        .then(response => response.json())// se recive los datos y los cobierte en json para expresar los datos 
        .then(data => {//se procesan los datos del servidor devolviendo en formato json
            //se obtiene la referencia de <ul> con id "listaUsuario" donde se agregan los usuarios
            const lista = document.getElementById('listaUsuarios'); 
            //se itera sobre cada objeto de usurio en el array, creando nuevos elementos <li>
            data.forEach(usuario => {
                const li = document.createElement('li');
                li.textContent = `Nombre: ${usuario.nombre}, email: ${usuario.email}`;
                //agrega elemento <li> creado como un hijo del elemneto <ul> con id 'lisUsuarios'
                lista.appendChild(li);
            });
        })
        //captura cualquier error que ocurra durante la solicitud de los datos, mostrando por consola el error
        .catch(error => console.error('Error:', error));
    </script>
    


</body>                 
</html>